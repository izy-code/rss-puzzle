(()=>{"use strict";var L={256:(a,l,p)=>{p.d(l,{A:()=>g});var o=Object.defineProperty,u=(f,e,n)=>e in f?o(f,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):f[e]=n,r=(f,e,n)=>(u(f,typeof e!="symbol"?e+"":e,n),n);class g{constructor(e,...n){r(this,"node"),r(this,"children",[]);var d;const m=document.createElement((d=e.tag)!=null?d:"div");Object.assign(m,e),this.node=m,n&&this.appendChildren(n)}append(e){e instanceof g?(this.children.push(e),this.node.append(e.getNode())):this.node.append(e)}appendChildren(e){e.forEach(n=>{this.append(n)})}getNode(){return this.node}getChildren(){return this.children}setTextContent(e){this.node.textContent=e}setAttribute(e,n){this.node.setAttribute(e,n)}removeAttribute(e){this.node.removeAttribute(e)}toggleClass(e){this.node.classList.toggle(e)}addClass(e){this.node.classList.add(e)}addClasses(e){e.split(" ").forEach(d=>{this.addClass(d)})}removeClass(e){this.node.classList.remove(e)}hasClass(e){return this.node.classList.contains(e)}addListener(e,n,d=!1){this.node.addEventListener(e,n,d)}removeListener(e,n,d=!1){this.node.removeEventListener(e,n,d)}removeChild(e){e instanceof g?(this.children=this.children.filter(n=>n!==e),this.node.removeChild(e.getNode())):this.node.removeChild(e)}hasChild(e){return this.children.includes(e)}hasChildren(){return this.children.length>0||this.node.children.length>0}removeChildren(){this.children.forEach(e=>{e instanceof g?e.removeNode():e.remove()}),this.children.length=0}removeNode(){this.removeChildren(),this.node.remove()}cleanComponentChildrenList(){this.children.length=0}}},734:(a,l,p)=>{p.d(l,{Ln:()=>y,Zd:()=>M,h1:()=>s,h2:()=>S,hF:()=>t,iW:()=>P,p:()=>N,y4:()=>O});var o=p(256),u=Object.defineProperty,r=Object.defineProperties,g=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,d=(c,h,_)=>h in c?u(c,h,{enumerable:!0,configurable:!0,writable:!0,value:_}):c[h]=_,m=(c,h)=>{for(var _ in h||(h={}))e.call(h,_)&&d(c,_,h[_]);if(f)for(var _ of f(h))n.call(h,_)&&d(c,_,h[_]);return c},v=(c,h)=>r(c,g(h));const w=(c,...h)=>new BaseComponent(v(m({},c),{tag:"header"}),...h),P=(c,...h)=>new o.A(v(m({},c),{tag:"main"}),...h),O=(c,...h)=>new o.A(c,...h),N=(c,...h)=>new o.A(v(m({},c),{tag:"p"}),...h),y=(c,...h)=>new o.A(v(m({},c),{tag:"span"}),...h),b=(c,...h)=>new BaseComponent(v(m({},c),{tag:"label"}),...h),t=c=>new o.A(v(m({},c),{tag:"input"})),s=(c,h)=>new o.A({tag:"h1",className:c,textContent:h}),S=(c,h)=>new o.A({tag:"h2",className:c,textContent:h}),C=(c,h)=>new BaseComponent({tag:"h3",className:c,textContent:h}),E=(c,...h)=>new BaseComponent(v(m({},c),{tag:"a"}),...h),A=({className:c="",src:h="",alt:_=""})=>new BaseComponent({tag:"img",className:c,src:h,alt:_}),M=({className:c="",method:h="get",action:_=""},...F)=>new o.A({tag:"form",className:c,method:h,action:_},...F)},182:(a,l,p)=>{p.d(l,{E:()=>o,b:()=>u});const o="{suffix}";var u=(r=>(r.EMPTY="",r.LOGIN="login",r.START="start",r.PUZZLE="puzzle",r.PUZZLE_AND_SUFFIX=`puzzle-${o}`,r.STATS="stats",r.NOT_FOUND="not-found",r))(u||{})}},T={};function i(a){var l=T[a];if(l!==void 0)return l.exports;var p=T[a]={exports:{}};return L[a](p,p.exports,i),p.exports}i.m=L,i.d=(a,l)=>{for(var p in l)i.o(l,p)&&!i.o(a,p)&&Object.defineProperty(a,p,{enumerable:!0,get:l[p]})},i.f={},i.e=a=>Promise.all(Object.keys(i.f).reduce((l,p)=>(i.f[p](a,l),l),[])),i.u=a=>""+a+"-"+{27:"9f2a836c8dd4de39353b",583:"2d0ac3f7bf280034f964",960:"189c4c16ed3568d66a90"}[a]+".js",i.miniCssF=a=>""+a+"-"+{27:"cff5e96e292fe4fe2940",583:"461da6a422a7af6c7085",960:"f447a8a1e779e6aef28d"}[a]+".css",i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}(),i.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),(()=>{var a={};i.l=(l,p,o,u)=>{if(a[l]){a[l].push(p);return}var r,g;if(o!==void 0)for(var f=document.getElementsByTagName("script"),e=0;e<f.length;e++){var n=f[e];if(n.getAttribute("src")==l){r=n;break}}r||(g=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.src=l),a[l]=[p];var d=(v,w)=>{r.onerror=r.onload=null,clearTimeout(m);var P=a[l];if(delete a[l],r.parentNode&&r.parentNode.removeChild(r),P&&P.forEach(O=>O(w)),v)return v(w)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),g&&document.head.appendChild(r)}})(),i.r=a=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a;i.g.importScripts&&(a=i.g.location+"");var l=i.g.document;if(!a&&l&&(l.currentScript&&(a=l.currentScript.src),!a)){var p=l.getElementsByTagName("script");if(p.length)for(var o=p.length-1;o>-1&&(!a||!/^http(s?):/.test(a));)a=p[o--].src}if(!a)throw new Error("Automatic publicPath is not supported in this browser");a=a.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=a})(),(()=>{if(typeof document!="undefined"){var a=(u,r,g,f,e)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var d=m=>{if(n.onerror=n.onload=null,m.type==="load")f();else{var v=m&&m.type,w=m&&m.target&&m.target.href||r,P=new Error("Loading CSS chunk "+u+` failed.
(`+v+": "+w+")");P.name="ChunkLoadError",P.code="CSS_CHUNK_LOAD_FAILED",P.type=v,P.request=w,n.parentNode&&n.parentNode.removeChild(n),e(P)}};return n.onerror=n.onload=d,n.href=r,g?g.parentNode.insertBefore(n,g.nextSibling):document.head.appendChild(n),n},l=(u,r)=>{for(var g=document.getElementsByTagName("link"),f=0;f<g.length;f++){var e=g[f],n=e.getAttribute("data-href")||e.getAttribute("href");if(e.rel==="stylesheet"&&(n===u||n===r))return e}for(var d=document.getElementsByTagName("style"),f=0;f<d.length;f++){var e=d[f],n=e.getAttribute("data-href");if(n===u||n===r)return e}},p=u=>new Promise((r,g)=>{var f=i.miniCssF(u),e=i.p+f;if(l(f,e))return r();a(u,e,null,r,g)}),o={23:0};i.f.miniCss=(u,r)=>{var g={27:1,583:1,960:1};o[u]?r.push(o[u]):o[u]!==0&&g[u]&&r.push(o[u]=p(u).then(()=>{o[u]=0},f=>{throw delete o[u],f}))}}})(),(()=>{var a={23:0};i.f.j=(o,u)=>{var r=i.o(a,o)?a[o]:void 0;if(r!==0)if(r)u.push(r[2]);else{var g=new Promise((d,m)=>r=a[o]=[d,m]);u.push(r[2]=g);var f=i.p+i.u(o),e=new Error,n=d=>{if(i.o(a,o)&&(r=a[o],r!==0&&(a[o]=void 0),r)){var m=d&&(d.type==="load"?"missing":d.type),v=d&&d.target&&d.target.src;e.message="Loading chunk "+o+` failed.
(`+m+": "+v+")",e.name="ChunkLoadError",e.type=m,e.request=v,r[1](e)}};i.l(f,n,"chunk-"+o,o)}};var l=(o,u)=>{var r=u[0],g=u[1],f=u[2],e,n,d=0;if(r.some(v=>a[v]!==0)){for(e in g)i.o(g,e)&&(i.m[e]=g[e]);if(f)var m=f(i)}for(o&&o(u);d<r.length;d++)n=r[d],i.o(a,n)&&a[n]&&a[n][0](),a[n]=0},p=self.webpackChunk=self.webpackChunk||[];p.forEach(l.bind(null,0)),p.push=l.bind(null,p.push.bind(p))})();var D={};(()=>{var a=i(182),l=Object.defineProperty,p=(b,t,s)=>t in b?l(b,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):b[t]=s,o=(b,t,s)=>(p(b,typeof t!="symbol"?t+"":t,s),s);class u{constructor(t){o(this,"validRoutes"),o(this,"navigate",s=>{typeof s=="string"&&(window.location.hash=s);const S=window.location.hash.slice(1),C=S.indexOf("-"),E={page:C!==-1?S.slice(0,C):S,suffix:C!==-1?S.slice(C+1):""};this.urlChangeHandler(E)}),this.validRoutes=t,window.addEventListener("hashchange",this.navigate),document.addEventListener("DOMContentLoaded",this.navigate)}urlChangeHandler(t){const{suffix:s}=t;let S="";if(/^\d+-\d+$/.test(s))S=`${t.page}-${a.E}`;else if(s!==""){this.navigate(t.page);return}else S=t.page;const C=this.validRoutes.find(E=>String(E.path)===S);if(!C){this.redirectToLoginPage();return}C.handleRouteChange(s)}redirectToLoginPage(){const t=this.validRoutes.find(s=>s.path===a.b.LOGIN);t&&this.navigate(t.path)}}var r=i(734),g=Object.defineProperty,f=(b,t,s)=>t in b?g(b,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):b[t]=s,e=(b,t,s)=>(f(b,typeof t!="symbol"?t+"":t,s),s);const n="izy-rss-puzzle";class d{constructor(){e(this,"dataMap"),this.dataMap=new Map,this.getData()}getField(t){return this.dataMap.has(t)?this.dataMap.get(t):null}setField(t,s){this.dataMap.set(t,s),this.saveData()}deleteField(t){this.dataMap.delete(t),this.saveData()}clearAllData(){this.dataMap=new Map,localStorage.removeItem(n)}getLoginData(){const t=this.getField("loginData");return d.isLoginDataWithNameAndSurname(t)?t:null}static isLoginDataWithNameAndSurname(t){return t!==null&&typeof t=="object"&&"name"in t&&"surname"in t&&typeof t.name=="string"&&typeof t.surname=="string"}getData(){const t=localStorage.getItem(n);if(t){const s=JSON.parse(t);if(!(s instanceof Object))throw new TypeError("Invalid storage object type");this.dataMap=new Map(Object.entries(s))}}saveData(){const t=Object.fromEntries(this.dataMap.entries());localStorage.setItem(n,JSON.stringify(t))}}var m=Object.defineProperty,v=(b,t,s)=>t in b?m(b,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):b[t]=s,w=(b,t,s)=>(v(b,typeof t!="symbol"?t+"":t,s),s);const P=600,O=700;class N{constructor(){w(this,"container"),w(this,"router"),w(this,"storage"),w(this,"handleSwitchToLoginPage",()=>{i.e(960).then(i.bind(i,960)).then(({default:t})=>{this.storage.getLoginData()?this.router.navigate(a.b.START):this.setPage(new t(this.router,this.storage))}).catch(t=>{throw new Error(`Failed to load login module: ${t}`)})}),w(this,"handleSwitchToStartPage",()=>{i.e(27).then(i.bind(i,27)).then(({default:t})=>{const s=this.storage.getLoginData();s?this.setPage(new t(this.router,this.storage,s)):this.router.navigate(a.b.LOGIN)}).catch(t=>{throw new Error(`Failed to load start page module: ${t}`)})}),w(this,"handleSwitchToPuzzlePage",t=>{i.e(583).then(i.bind(i,583)).then(({default:s})=>{if(!this.storage.getLoginData())this.router.navigate(a.b.LOGIN);else{const C=t.split("-");if(C[0]&&C[1]){const E=+C[0]-1,A=+C[1]-1;this.setPage(new s(this.router,this.storage,E,A))}else this.setPage(new s(this.router,this.storage,0,0))}}).catch(s=>{throw new Error(`Failed to load puzzle page module: ${s}`)})}),this.container=(0,r.y4)({className:"app-container"}),this.storage=new d,this.router=new u(this.createRoutes())}start(){document.body.append(this.container.getNode())}createRoutes(){return[{path:a.b.EMPTY,handleRouteChange:this.handleSwitchToLoginPage},{path:a.b.LOGIN,handleRouteChange:this.handleSwitchToLoginPage},{path:a.b.START,handleRouteChange:this.handleSwitchToStartPage},{path:a.b.PUZZLE,handleRouteChange:this.handleSwitchToPuzzlePage},{path:a.b.PUZZLE_AND_SUFFIX,handleRouteChange:this.handleSwitchToPuzzlePage}]}setPage(t){this.container.removeClass("app-container--opaque"),setTimeout(()=>{this.container.removeChildren(),this.container.append(t)},P),setTimeout(()=>{this.container.addClass("app-container--opaque")},O)}}new N().start()})()})();
